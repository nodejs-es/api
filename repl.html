<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>repl - Node.js Manual &amp; Documentación</title>
  <link rel="stylesheet" href="assets/style.css" type="text/css" media="all" />
  <link rel="stylesheet" href="assets/sh.css" type="text/css" media="all"/>
</head>
<body>
  <div id="container">
    <header>
      <h1>Node.js Manual &amp; Documentación</h1>
      <div id="gtoc">
        <p><a href="index.html">Inicio</a> | <a href="all.html">Ver en una página</a></p>
      </div>
      <hr />
    </header>
    <div id="toc"><h2>Tabla de contenidos</h2><ul><li><a href="#rEPL">REPL</a><ul><li><a href="#repl.start">repl.start(prompt='> ', stream=process.stdin)</a></li><li><a href="#caracter_sticas_de_REPL">Características de REPL</a></li></ul></li></ul><hr /></div>
<h2 id="rEPL">REPL</h2>

<p>Read-Eval-Print-Loop (REPL) está disponible como un programa independiente y fácilmente
puede incluirse en otros programas.  REPL proporciona una forma de ejecutar interactiva de ejecutar
JavaScript y ver los resultados.  Puede ser utilizado para la depuración, pruebas, o
simplemente para probar cosas.</p>

<p>Debe ejectuarlo en <code>node</code> sin singún argumento desde la línea de comandos, debe posicionarse 
dentro de REPL. Posee la edición simple de líneas de emacs.</p>

<pre><code>mjr:~$ node
Type '.help' for options.
&gt; a = [ 1, 2, 3];
[ 1, 2, 3 ]
&gt; a.forEach(function (v) {
...   console.log(v);
...   });
1
2
3</code></pre>

<p>Para editores avanzados, inice node con la variable de entorno <code>NODE_NO_READLINE=1</code>.
Esto iniciará la configuración de REPL en la terminal y que le permitirá utilizarlo como <code>rlwrap</code>.</p>

<p>Por ejemplo, puede añadir a continuación a su fichero bashrc:</p>

<pre><code>alias node="env NODE_NO_READLINE=1 rlwrap node"</code></pre>

<h3 id="repl.start">repl.start(prompt='&gt; ', stream=process.stdin)</h3>

<p>Inicia REPL con el <code>prompt</code> como el prompt y  el <code>stream</code> para todo los procesos de I/O (Entrada/Salida). 
<code>prompt</code> es opcional y por omisión es <code>&gt; </code>.  <code>stream</code> es opcional y por omisión es 
<code>process.stdin</code>.</p>

<p>Multiples REPLs pueden iniciar con una misma instancia de node.  Cada
uno de ellos comparten el objeto global, perotendrán un único proceso de I/O.</p>

<p>Here is an example that starts a REPL on stdin, a Unix socket, and a TCP socket:
Aquí está un ejemplo que inicia REPL en stdin, un socket en Unix, y un socket en TCP:</p>

<pre><code>var net = require("net"),
    repl = require("repl");

connections = 0;

repl.start("node via stdin&gt; ");

net.createServer(function (socket) {
  connections += 1;
  repl.start("node via Unix socket&gt; ", socket);
}).listen("/tmp/node-repl-sock");

net.createServer(function (socket) {
  connections += 1;
  repl.start("node via TCP socket&gt; ", socket);
}).listen(5001);</code></pre>

<p>Ejecutando el programa desde la línea de comando iniciará REPL en stdin.  Otros
clientes REPL pueden conectarse a través de un socket Unix o TCP. <code>telnet</code> es útil
para la conexión de sockets TCP, y <code>socat</code> puede ser conectar ambos sockets Unix y
TCP.</p>

<p>Al iniciar REPL desde un socket Unix basado en una instancia de stdin, puede 
conectarse a un  proceso en ejecución de node sin reiniciar el mismo.</p>

<h3 id="caracter_sticas_de_REPL">Características de REPL</h3>

<p>Dentro de REPL, presione Control+D para salir.  Expresiones de varias líneas pueden ser
ingresadas.</p>

<p>La variable especial <code>_</code> (underscore) contiene el resultado de la última expresión.</p>

<pre><code>&gt; [ "a", "b", "c" ]
[ 'a', 'b', 'c' ]
&gt; _.length
3
&gt; _ += 1
4</code></pre>

<p>REPL proporciona acceso a cualquier variable en el ámbito global. Puede exponer una variable
a REPL explícitamente y asignarl a un contexto de un objeto asociado con cada
<code>REPLServer</code>.  Por ejemplo:</p>

<pre><code>// repl_test.js
var repl = require("repl"),
    msg = "message";

repl.start().context.m = msg;</code></pre>

<p>Las cosas en el objeto <code>context</code> aparecen como local en REPL:</p>

<pre><code>mjr:~$ node repl_test.js
&gt; m
'message'</code></pre>

<p>Hay algunos comandos especiales de REPL:</p>

<ul><li><code>.break</code> - Si  bien ingresar expresiones en varias líneas, a veces, pueden perderse
o simplemente no son tomados en cuenta. <code>.break</code> comenzará de nuevo.</li><li><code>.clear</code> - Restablece el objeto <code>context</code> a un objeto vacío y borra cualquier expresión de varias líneas.</li><li><code>.exit</code> - Cierra los stream de I/O, que hará que REPL termine.</li><li><code>.help</code> - Muestra la lista de comandos especiales.</li></ul>
  </div>
  <script type="text/javascript" src="assets/sh_main.js"></script>
  <script type="text/javascript" src="assets/sh_javascript.min.js"></script>
  <script type="text/javascript">highlight(undefined, undefined, 'pre');</script>
</body>
</html>
